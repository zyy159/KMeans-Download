(this.webpackJsonpk_means=this.webpackJsonpk_means||[]).push([[0],{108:function(e,t,a){},116:function(e,t,a){"use strict";a.r(t);var s=a(0),n=a.n(s),c=a(10),i=a.n(c),l=(a(89),a(52)),o=a(42),r=a(63),d=a(64),u=a(23),j=a(70),h=a(69),b=a(24),x=a.n(b),m=a(165),p=a(166),O=a(154),v=a(68),f=a.n(v),g=a(173),S=a(167),N=a(169),_=a(161),k=a(158),C=a(160),y=a(159),B=a(66),F=a.n(B),R=a(67),T=a.n(R),w=a(170),U=a(171),I=a(172),D=a(164),V=a(168),q=(a(108),a(4));x.a.defaults.withCredentials=!0,x.a.defaults.headers.post["Content-Type"]="application/json";var L="http://127.0.0.1:8000",P=function(e){Object(j.a)(s,e);var t=Object(h.a)(s);function s(e){var a;return Object(r.a)(this,s),(a=t.call(this,e)).renderInfo=function(){return 0===a.state.activeStep?Object(q.jsxs)("div",{children:[Object(q.jsx)(O.a,{className:"instructions",children:Object(q.jsxs)(k.a,{className:"SubRoot",variant:"outlined",children:[Object(q.jsxs)(y.a,{className:"Title",children:[Object(q.jsx)(O.a,{variant:"h4",gutterBottom:!0,children:"File Upload"}),Object(q.jsxs)(O.a,{className:"State",children:[a.state.success," ",a.state.filename]})]}),Object(q.jsxs)(C.a,{className:"UploadButton",children:[Object(q.jsx)("input",{accept:"*",id:"contained-button-file",type:"file",onChange:a.handleUpload,name:"file",className:"Input"}),Object(q.jsx)("label",{htmlFor:"contained-button-file",children:Object(q.jsxs)(_.a,{component:"span",children:[" ",Object(q.jsx)(F.a,{color:"primary",style:{fontSize:150}})," "]})})]})]})}),Object(q.jsxs)("div",{className:"Buttons",children:[Object(q.jsx)(_.a,{disabled:!0,onClick:function(){return a.setState({activeStep:a.state.activeStep-1})},className:"backButton",children:"Back"}),Object(q.jsx)(_.a,{className:"ButtonRight",variant:"contained",color:"primary",onClick:a.next,children:"Next"})]})]}):1===a.state.activeStep?Object(q.jsxs)("div",{children:[Object(q.jsx)(O.a,{className:"instructions",children:Object(q.jsx)(k.a,{className:"SubRoot",variant:"outlined",children:Object(q.jsx)(y.a,{children:Object(q.jsxs)("form",{className:"MuiTextField",noValidate:!0,autoComplete:"off",children:[Object(q.jsxs)("div",{className:"Row",children:[Object(q.jsx)(w.a,{className:"TextField",required:!0,label:"n_clusters\u3010\u7c07\u7684\u4e2a\u6570\u3011",InputLabelProps:{shrink:!0},onChange:function(e){return a.change("n_clusters",e)}}),Object(q.jsx)(w.a,{className:"Text_Field",required:!0,defaultValue:"10",label:"n_init\u3010\u83b7\u53d6\u521d\u59cb\u7c07\u4e2d\u5fc3\u7684\u66f4\u8fed\u6b21\u6570\u3011",onChange:function(e){return a.change("n_clusters",e)}})]}),Object(q.jsx)("br",{}),Object(q.jsxs)("div",{className:"Row",children:[Object(q.jsx)(w.a,{className:"TextField",required:!0,defaultValue:"300",label:"max_iter\u3010\u6700\u5927\u8fed\u4ee3\u6b21\u6570\u3011",onChange:function(e){return a.change("max_iter",e)}}),Object(q.jsx)(w.a,{className:"Text_Field",required:!0,defaultValue:"0.0001",label:"tol\u3010\u5bb9\u5fcd\u5ea6\u3011",onChange:function(e){return a.change("tol",e)}})]}),Object(q.jsx)("br",{}),Object(q.jsxs)("div",{className:"Row",children:[Object(q.jsxs)(D.a,{className:"TextField",children:[Object(q.jsx)(U.a,{id:"precompute_distancesID",children:"precompute_distances"}),Object(q.jsxs)(V.a,{id:"precompute_distancesID",labelId:"precompute_distances\u3010\u662f\u5426\u63d0\u524d\u8ba1\u7b97\u8ddd\u79bb\u3011",defaultValue:"auto",onChange:function(e){return a.change("precompute_distances",e)},children:[Object(q.jsx)(I.a,{value:"auto",children:"auto"}),Object(q.jsx)(I.a,{value:"True",children:"True"}),Object(q.jsx)(I.a,{value:"False",children:"False"})]})]}),Object(q.jsxs)(D.a,{className:"Text_Field",children:[Object(q.jsx)(U.a,{id:"algorithm",children:"algorithm"}),Object(q.jsxs)(V.a,{labelId:"algorithm\u3010\u4f18\u5316\u7b97\u6cd5\u3011",defaultValue:"auto",id:"algorithm",onChange:function(e){return a.change("algorithm",e)},children:[Object(q.jsx)(I.a,{value:"auto",children:"auto"}),Object(q.jsx)(I.a,{value:"full",children:"full"}),Object(q.jsx)(I.a,{value:"elkan",children:"elkan"})]})]})]})]})})})}),Object(q.jsxs)("div",{className:"Buttons",children:[Object(q.jsx)(_.a,{onClick:function(){return a.setState({activeStep:a.state.activeStep-1})},className:"backButton",children:"Back"}),Object(q.jsx)(_.a,{onClick:a.run,className:"ButtonRight",variant:"contained",color:"primary",children:"Run"})]})]}):2===a.state.activeStep?Object(q.jsxs)("div",{children:[Object(q.jsx)(O.a,{className:"instructions",children:Object(q.jsxs)(k.a,{className:"SubRoot",variant:"outlined",children:[Object(q.jsx)(y.a,{className:"Title",children:Object(q.jsx)(O.a,{variant:"h4",gutterBottom:!0,children:"Result Download"})}),Object(q.jsx)(C.a,{className:"UploadButton",children:Object(q.jsxs)(_.a,{component:"span",onClick:a.downlaod,children:[" ",Object(q.jsx)(T.a,{color:"primary",style:{fontSize:150}})," "]})})]})}),Object(q.jsx)("div",{className:"Buttons",children:Object(q.jsx)(_.a,{onClick:function(){return a.setState({activeStep:a.state.activeStep-1})},className:"backButton",children:"Back"})})]}):3===a.state.activeStep?Object(q.jsxs)("div",{children:[Object(q.jsx)(O.a,{className:"instructions",children:"All steps completed"}),Object(q.jsx)(_.a,{className:"ResetButton",onClick:a.handleReset,children:"Reset"})]}):void 0},a.state={activeStep:0,n_clusters:0,n_init:10,max_iter:300,tol:1e-4,precompute_distances:"auto",algorithm:"auto",success:"",filename:""},a.change=a.change.bind(Object(u.a)(a)),a.run=a.run.bind(Object(u.a)(a)),a.downlaod=a.downlaod.bind(Object(u.a)(a)),a.next=a.next.bind(Object(u.a)(a)),a.handleUpload=a.handleUpload.bind(Object(u.a)(a)),a}return Object(d.a)(s,[{key:"change",value:function(e,t){this.setState(Object(o.a)({},e,t.target.value)),console.log("ChangeValue ",Object(l.a)({},this.state))}},{key:"next",value:function(){"\u3010Upload Successfully\u3011"==this.state.success?this.setState({activeStep:this.state.activeStep+1}):this.setState({success:"\u3010No File Uploaded\u3011"})}},{key:"run",value:function(){if(""!=this.state.tol&&""!=this.state.n_clusters&&0!=this.state.n_clusters&&""!=this.state.n_init&&""!=this.state.max_iter&&0!=this.state.tol&&0!=this.state.n_init&&0!=this.state.max_iter){this.setState({activeStep:this.state.activeStep+1});var e=Object(l.a)({},this.state);console.log("data",e);var t=x.a.post(L+"/result/",e);console.log("post",t),x.a.get(L+"/result/")}else""==this.state.tol||0==this.state.tol?alert("\u8bf7\u586b\u5199tol\u3010\u5bb9\u5fcd\u5ea6\u3011"):""==this.state.n_clusters||0==this.state.n_clusters?alert("\u8bf7\u586b\u5199n_clusters\u3010\u7c07\u7684\u4e2a\u6570\u3011"):""==this.state.n_init||0==this.state.n_init?alert("\u8bf7\u586b\u5199n_init\u3010\u83b7\u53d6\u521d\u59cb\u7c07\u4e2d\u5fc3\u7684\u66f4\u8fed\u6b21\u6570\u3011"):""!=this.state.max_iter&&0!=this.state.max_iter||alert("\u8bf7\u586b\u5199max_iter\u3010\u6700\u5927\u8fed\u4ee3\u6b21\u6570\u3011")}},{key:"downlaod",value:function(){var e=a(114);x.a.get(L+"/download/").then((function(t){e(t.data,"Data_kmeans_modify.xls")}));var t=x.a.get("${server}/result/");console.log(t)}},{key:"handleUpload",value:function(e){var t=this,a=e.target.files[0];console.log(a);var s=a.name;this.setState({filename:s});var n=new FormData;n.append("file",a),n.append("msg","false"),console.log("data",n.get("file")),x.a.post(L+"/upload/",n,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){200===e.status?(t.setState({success:"\u3010Upload Successfully\u3011"}),console.log("Success",e)):t.setState({success:"\u3010Upload Fail\u3011"})}))}},{key:"render",value:function(){return Object(q.jsxs)("div",{className:"Root",children:[Object(q.jsx)(m.a,{className:"AppBar",position:"static",children:Object(q.jsxs)(p.a,{className:"Toolbar",variant:"dense",children:[Object(q.jsx)(f.a,{className:"RedditIcon",style:{fontSize:60}}),Object(q.jsx)(O.a,{variant:"h4",color:"inherit",children:"KMeans Download"})]})}),Object(q.jsx)(g.a,{activeStep:this.state.activeStep,alternativeLabel:!0,children:["Upload Your File","Adjust Parameters","Result"].map((function(e){return Object(q.jsx)(S.a,{children:Object(q.jsx)(N.a,{children:e})},e)}))}),Object(q.jsx)("div",{children:this.renderInfo()})]})}}]),s}(s.Component),z=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,175)).then((function(t){var a=t.getCLS,s=t.getFID,n=t.getFCP,c=t.getLCP,i=t.getTTFB;a(e),s(e),n(e),c(e),i(e)}))};i.a.render(Object(q.jsx)(n.a.StrictMode,{children:Object(q.jsx)(P,{})}),document.getElementById("root")),z()},89:function(e,t,a){}},[[116,1,2]]]);
//# sourceMappingURL=main.5ea99495.chunk.js.map